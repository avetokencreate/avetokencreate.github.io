import{_ as ue,i as ye,r as q,o as C,c as X,w as P,a as d,t as k,u as h,b as ce,d as de,e as we,f as Z,g as O,h as w,F as ae,j as $e,n as ke,k as Me,s as _e,l as De,m as Ce,p as be,q as he,v as pe,x as me,T as Se,y as oe}from"./index-5c83935c.js";import{u as Le}from"./create-ebf80baf.js";import{f as re,c as ve,g as Te,a as xe}from"./index-5b8a8efc.js";import{_ as B}from"./SvgIcon-86bd1c1c.js";import{D as Ie}from"./DropDown-c370785d.js";var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le={},Oe={get exports(){return le},set exports(N){le=N}};(function(N,H){(function(u,_){N.exports=_()})(Ae,function(){var u=1e3,_=6e4,D=36e5,S="millisecond",v="second",r="minute",T="hour",g="day",U="week",x="month",E="quarter",W="year",G="date",ee="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var n=["th","st","nd","rd"],e=s%100;return"["+s+(n[(e-20)%10]||n[e]||n[0])+"]"}},A=function(s,n,e){var o=String(s);return!o||o.length>=n?s:""+Array(n+1-o.length).join(e)+s},V={s:A,z:function(s){var n=-s.utcOffset(),e=Math.abs(n),o=Math.floor(e/60),t=e%60;return(n<=0?"+":"-")+A(o,2,"0")+":"+A(t,2,"0")},m:function s(n,e){if(n.date()<e.date())return-s(e,n);var o=12*(e.year()-n.year())+(e.month()-n.month()),t=n.clone().add(o,x),i=e-t<0,a=n.clone().add(o+(i?-1:1),x);return+(-(o+(e-t)/(i?t-a:a-t))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:x,y:W,w:U,d:g,D:G,h:T,m:r,s:v,ms:S,Q:E}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},L="en",l={};l[L]=R;var z=function(s){return s instanceof ne},te=function s(n,e,o){var t;if(!n)return L;if(typeof n=="string"){var i=n.toLowerCase();l[i]&&(t=i),e&&(l[i]=e,t=i);var a=n.split("-");if(!t&&a.length>1)return s(a[0])}else{var f=n.name;l[f]=n,t=f}return!o&&t&&(L=t),t||!o&&L},M=function(s,n){if(z(s))return s.clone();var e=typeof n=="object"?n:{};return e.date=s,e.args=arguments,new ne(e)},p=V;p.l=te,p.i=z,p.w=function(s,n){return M(s,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var ne=function(){function s(e){this.$L=te(e.locale,null,!0),this.parse(e)}var n=s.prototype;return n.parse=function(e){this.$d=function(o){var t=o.date,i=o.utc;if(t===null)return new Date(NaN);if(p.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var a=t.match(m);if(a){var f=a[2]-1||0,y=(a[7]||"0").substring(0,3);return i?new Date(Date.UTC(a[1],f,a[3]||1,a[4]||0,a[5]||0,a[6]||0,y)):new Date(a[1],f,a[3]||1,a[4]||0,a[5]||0,a[6]||0,y)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return p},n.isValid=function(){return this.$d.toString()!==ee},n.isSame=function(e,o){var t=M(e);return this.startOf(o)<=t&&t<=this.endOf(o)},n.isAfter=function(e,o){return M(e)<this.startOf(o)},n.isBefore=function(e,o){return this.endOf(o)<M(e)},n.$g=function(e,o,t){return p.u(e)?this[o]:this.set(t,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,o){var t=this,i=!!p.u(o)||o,a=p.p(e),f=function(J,I){var j=p.w(t.$u?Date.UTC(t.$y,I,J):new Date(t.$y,I,J),t);return i?j:j.endOf(g)},y=function(J,I){return p.w(t.toDate()[J].apply(t.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(I)),t)},$=this.$W,b=this.$M,F=this.$D,Y="set"+(this.$u?"UTC":"");switch(a){case W:return i?f(1,0):f(31,11);case x:return i?f(1,b):f(0,b+1);case U:var Q=this.$locale().weekStart||0,K=($<Q?$+7:$)-Q;return f(i?F-K:F+(6-K),b);case g:case G:return y(Y+"Hours",0);case T:return y(Y+"Minutes",1);case r:return y(Y+"Seconds",2);case v:return y(Y+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,o){var t,i=p.p(e),a="set"+(this.$u?"UTC":""),f=(t={},t[g]=a+"Date",t[G]=a+"Date",t[x]=a+"Month",t[W]=a+"FullYear",t[T]=a+"Hours",t[r]=a+"Minutes",t[v]=a+"Seconds",t[S]=a+"Milliseconds",t)[i],y=i===g?this.$D+(o-this.$W):o;if(i===x||i===W){var $=this.clone().set(G,1);$.$d[f](y),$.init(),this.$d=$.set(G,Math.min(this.$D,$.daysInMonth())).$d}else f&&this.$d[f](y);return this.init(),this},n.set=function(e,o){return this.clone().$set(e,o)},n.get=function(e){return this[p.p(e)]()},n.add=function(e,o){var t,i=this;e=Number(e);var a=p.p(o),f=function(b){var F=M(i);return p.w(F.date(F.date()+Math.round(b*e)),i)};if(a===x)return this.set(x,this.$M+e);if(a===W)return this.set(W,this.$y+e);if(a===g)return f(1);if(a===U)return f(7);var y=(t={},t[r]=_,t[T]=D,t[v]=u,t)[a]||1,$=this.$d.getTime()+e*y;return p.w($,this)},n.subtract=function(e,o){return this.add(-1*e,o)},n.format=function(e){var o=this,t=this.$locale();if(!this.isValid())return t.invalidDate||ee;var i=e||"YYYY-MM-DDTHH:mm:ssZ",a=p.z(this),f=this.$H,y=this.$m,$=this.$M,b=t.weekdays,F=t.months,Y=function(I,j,ie,se){return I&&(I[j]||I(o,i))||ie[j].slice(0,se)},Q=function(I){return p.s(f%12||12,I,"0")},K=t.meridiem||function(I,j,ie){var se=I<12?"AM":"PM";return ie?se.toLowerCase():se},J={YY:String(this.$y).slice(-2),YYYY:this.$y,M:$+1,MM:p.s($+1,2,"0"),MMM:Y(t.monthsShort,$,F,3),MMMM:Y(F,$),D:this.$D,DD:p.s(this.$D,2,"0"),d:String(this.$W),dd:Y(t.weekdaysMin,this.$W,b,2),ddd:Y(t.weekdaysShort,this.$W,b,3),dddd:b[this.$W],H:String(f),HH:p.s(f,2,"0"),h:Q(1),hh:Q(2),a:K(f,y,!0),A:K(f,y,!1),m:String(y),mm:p.s(y,2,"0"),s:String(this.$s),ss:p.s(this.$s,2,"0"),SSS:p.s(this.$ms,3,"0"),Z:a};return i.replace(c,function(I,j){return j||J[I]||a.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,o,t){var i,a=p.p(o),f=M(e),y=(f.utcOffset()-this.utcOffset())*_,$=this-f,b=p.m(this,f);return b=(i={},i[W]=b/12,i[x]=b,i[E]=b/3,i[U]=($-y)/6048e5,i[g]=($-y)/864e5,i[T]=$/D,i[r]=$/_,i[v]=$/u,i)[a]||$,t?b:p.a(b)},n.daysInMonth=function(){return this.endOf(x).$D},n.$locale=function(){return l[this.$L]},n.locale=function(e,o){if(!e)return this.$L;var t=this.clone(),i=te(e,o,!0);return i&&(t.$L=i),t},n.clone=function(){return p.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},s}(),fe=ne.prototype;return M.prototype=fe,[["$ms",S],["$s",v],["$m",r],["$H",T],["$W",g],["$M",x],["$y",W],["$D",G]].forEach(function(s){fe[s[1]]=function(n){return this.$g(n,s[0],s[1])}}),M.extend=function(s,n){return s.$i||(s(n,ne,M),s.$i=!0),M},M.locale=te,M.isDayjs=z,M.unix=function(s){return M(1e3*s)},M.en=l[L],M.Ls=l,M.p={},M})})(Oe);const Be=le;const Ne={class:"content"},He={__name:"HelpDialog",props:{show:Boolean},emits:["update:show"],setup(N,{emit:H}){const u=ye("global");return(_,D)=>{const S=q("van-dialog");return C(),X(S,{class:"help-dialog",show:N.show,title:_.$t("rulesDescription"),"confirm-button-text":_.$t("understand"),onConfirm:D[0]||(D[0]=v=>H("update:show",!1)),onClose:D[1]||(D[1]=v=>H("update:show",!1)),"close-on-click-overlay":""},{default:P(()=>[d("div",Ne,[d("div",null,k(_.$t("rulesDescription1",{chains:h(u).cfg.allowChainList.map(v=>v.chain.toUpperCase()).join("/")})),1),d("div",null,k(_.$t("rulesDescription2")),1),d("div",null,k(_.$t("rulesDescription3")),1),d("div",null,k(_.$t("rulesDescription4")),1),d("div",null,k(_.$t("rulesDescription5")),1)])]),_:1},8,["show","title","confirm-button-text"])}}},We=ue(He,[["__scopeId","data-v-5e1bd8cc"]]),Ye={__name:"SelectLanDialog",props:{show:Boolean},emits:["update:show"],setup(N,{emit:H}){const u=ce(),{t:_}=de(),D=we(()=>[{name:_("languages.zh-cn"),value:"zh-cn",color:u.language==="zh-cn"?"#3F80F7":"#323233"},{name:_("languages.en"),value:"en",color:u.language==="en"?"#3F80F7":"#323233"}]);function S(v){u.setLanguage(v.value),H("update:show",!1)}return(v,r)=>{const T=q("van-action-sheet");return C(),X(T,{show:N.show,title:v.$t("switchLang"),actions:h(D),onClose:r[0]||(r[0]=g=>H("update:show",!1)),closeable:!1,"cancel-text":v.$t("cancel"),"close-on-click-action":"",onSelect:S},null,8,["show","title","actions","cancel-text"])}}};const Ge={class:"left"},Fe={key:0,class:"address"},je={class:"address-text"},Ue={key:1,class:"address"},Re={style:{"margin-left":"4px"}},Ve={class:"dapp-list"},ze=["onClick"],Pe={class:"name"},qe={key:0,class:"tips"},Ee={__name:"Menu",props:{dappList:{type:Array,default:[]}},setup(N){const H=N,{t:u}=de(),_=ce(),D=Z(!1);function S(v){if(!v){_e(u("menuComingSoon"));return}window.open(v)}return(v,r)=>{const T=q("van-popup");return C(),O(ae,null,[d("div",{onClick:r[0]||(r[0]=g=>D.value=!0)},[w(B,{class:"icon",name:"menu"})]),w(T,{show:D.value,"onUpdate:show":r[2]||(r[2]=g=>D.value=g),position:"left",style:{width:"48%",height:"100%"},class:"menu"},{default:P(()=>[d("div",Ge,[w(B,{class:"icon",name:"menu",onClick:r[1]||(r[1]=g=>D.value=!1)}),h(_).isConnectWallet?(C(),O("div",Fe,[w(B,{class:"chain-icon",name:"wallet"}),d("div",je,k(h(re)(h(_).walletAddress)),1)])):(C(),O("div",Ue,[w(B,{name:"wallet"}),d("div",Re,k(h(u)("menuNoConnet")),1)]))]),d("ul",Ve,[(C(!0),O(ae,null,$e(H.dappList,g=>(C(),O("li",{class:ke(["dapp-list-item",g.selected?"dapp-list-item-selected":""]),onClick:U=>S(g.url)},[w(B,{class:"svg-icon",name:g.iconGrey},null,8,["name"]),d("div",Pe,k(h(u)(g.name)),1),g.url?Me("",!0):(C(),O("div",qe,k(h(u)("menuComingSoon")),1))],10,ze))),256))])]),_:1},8,["show"])],64)}}},Je=ue(Ee,[["__scopeId","data-v-7d9655ee"]]),ge=[{name:"menuCreateToken",iconBlue:"createTokenBlue",iconGrey:"createTokenGrey",url:"https://avetokencreate.github.io/"},{name:"menuPresell",iconBlue:"presaleBlue",iconGrey:"presaleGrey",url:""},{name:"menuLiquidity",iconBlue:"liquidityBlue",iconGrey:"liquidityGrey",url:"https://m.jfliquidity.xyz/add?utm_source=ave.ai"},{name:"menuLock",iconBlue:"lockBlue",iconGrey:"lockGrey",url:"https://avetokenlock.github.io/"},{name:"menuMultitransfer",iconBlue:"multitransferBlue",iconGrey:"multitransferGrey",url:"https://avemultitransfer.github.io/"},{name:"menuRedPacket",iconBlue:"redPacketBlue",iconGrey:"redPacketGrey",url:"https://aeredpacket.github.io/"},{name:"menuApprove",iconBlue:"approveBlue",iconGrey:"approveGrey",url:"https://aveapprovecheck.github.io/"}];const Ze={class:"token-create"},Qe={class:"tools-bar"},Ke={class:"left"},Xe={key:0,class:"address"},et={class:"address-text"},tt={style:{"margin-left":"6px"}},nt={class:"tools"},st={class:"token-box"},ot={class:"token"},at={class:"title"},it=["onClick"],rt={class:"content"},lt={class:"name"},ut={class:"create-time"},ct={key:1,class:"no-data"},dt={class:"text"},ft={class:"bottom-operate"},ht={__name:"Index",setup(N){const{t:H}=de(),u=ce(),_=Le(),D=De(),S=Z(0),v=Z(10),r=Ce({pageNumber:0,tokenList:[],loading:!1,finished:!1,error:!1,refreshing:!1}),T=Z(!1),g=Z(!1);function U(){_.$reset(),D.push("/create/basicInfo")}async function x(){let m=u.tokenFactoryAddress,c=u.walletAddress,R=pe({duration:0});c||_e(H("pleaseConnectWallet"));try{let A=await me.tokenFactory.getTotalRecords(m,c);S.value=Number(A),console.log(Number(A))}catch(A){console.log(A)}finally{r.refreshing=!1,R.close()}}async function E(){r.loading=!0;let m=pe({duration:0}),c=u.tokenFactoryAddress.toLowerCase(),R=u.walletAddress.toLowerCase(),A=(r.pageNumber*v.value).toString(),V=(r.pageNumber*v.value+v.value-1).toString();console.log(A),console.log(V);try{let L=await me.tokenFactory.getOwnRecords(c,R,A,V);console.log(L);for(let l of L){let z={tokenAddress:l[6].toLowerCase(),createTime:Number(l[0]),symbol:l[4],name:l[3],deployerId:Number(l[5])};r.tokenList.push(z)}L.length<v.value||S.value==Number(V)+1?r.finished=!0:r.pageNumber++}catch(L){r.error=!0,console.log(L)}finally{m.close(),r.loading=!1,r.refreshing=!1}}async function W(){r.pageNumber=0,r.tokenList=[],r.finished=!1,await x(),S.value>0&&(console.log(S.value),E())}function G(m,c){D.push("/manage/"+m+"/"+c)}ge.forEach(m=>m.selected=m.name=="menuCreateToken");const ee=Z(ge);return be(()=>{let m=setInterval(async()=>{u.isConnectWallet&&(clearInterval(m),await x(),S.value>0&&E())},100)}),(m,c)=>{const R=q("van-list"),A=q("van-image"),V=q("van-pull-refresh"),L=q("van-button");return C(),O(ae,null,[d("div",Ze,[d("div",Qe,[d("div",Ke,[w(Je,{"dapp-list":ee.value},null,8,["dapp-list"]),h(u).isConnectWallet?(C(),O("div",Xe,[w(Ie,{class:"switch-chain",onClick:c[0]||(c[0]=l=>h(u).showSelectChainPopup=!0),error:h(u).chainId==-1,logo:h(u).chainIcon,value:h(u).chain.toUpperCase()},null,8,["error","logo","value"]),d("div",et,k(h(re)(h(u).walletAddress)),1),w(B,{class:"copy-icon",name:"copy",onClick:c[1]||(c[1]=he(l=>h(ve)(h(u).walletAddress),["stop"]))})])):(C(),O("div",{key:1,class:"address",onClick:c[2]||(c[2]=(...l)=>h(u).connectWallet&&h(u).connectWallet(...l))},[w(B,{class:"icon",name:"wallet"}),d("div",tt,k(m.$t("pleaseConnectWallet")),1)]))]),d("div",nt,[w(B,{class:"icon",name:"language",onClick:c[3]||(c[3]=l=>g.value=!0)}),w(B,{class:"icon",name:"help",onClick:c[4]||(c[4]=l=>T.value=!0)})])]),d("div",st,[d("div",ot,[d("div",at,k(m.$t("myToken")),1),w(V,{modelValue:r.refreshing,"onUpdate:modelValue":c[8]||(c[8]=l=>r.refreshing=l),"pulling-text":m.$t("pulling"),"loosing-text":m.$t("loosing"),"loading-text":m.$t("loading"),onRefresh:W},{default:P(()=>[r.tokenList.length>0?(C(),X(R,{key:0,class:"token-list","loading-text":m.$t("loading"),loading:r.loading,"onUpdate:loading":c[5]||(c[5]=l=>r.loading=l),finished:r.finished,"finished-text":m.$t("noMore"),error:r.error,"onUpdate:error":c[6]||(c[6]=l=>r.error=l),"error-text":m.$t("errorText"),onLoad:c[7]||(c[7]=l=>E())},{default:P(()=>[(C(!0),O(ae,null,$e(r.tokenList,l=>(C(),O("div",{class:"item",onClick:z=>G(l.deployerId,l.tokenAddress)},[d("div",null,[w(Se,{class:"token-icon",tokenIcon:h(Te)(h(u).chain.toLowerCase(),l.tokenAddress.toLowerCase()),chainIcon:h(xe)(h(u).chain.toLowerCase())},null,8,["tokenIcon","chainIcon"]),d("div",rt,[d("div",lt,[d("span",null,k(l.symbol),1),d("span",null,"（"+k(l.name)+"）",1)]),d("div",null,[oe(k(h(re)(l.tokenAddress))+" ",1),w(B,{class:"copy-icon",name:"copy",onClick:he(z=>h(ve)(l.tokenAddress),["stop"])},null,8,["onClick"])]),d("div",ut,k(h(Be).unix(l.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])]),d("div",null,[w(B,{class:"image",name:"arrow"})])],8,it))),256))]),_:1},8,["loading-text","loading","finished","finished-text","error","error-text"])):(C(),O("div",ct,[w(A,{class:"image",src:"/assets/images/warn.png"}),d("div",dt,k(m.$t("noToken")),1)]))]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])])]),d("div",ft,[h(u).isConnectWallet?(C(),X(L,{key:0,type:"primary",round:"",block:"",class:"btn",onClick:U},{default:P(()=>[oe(k(m.$t("createToken")),1)]),_:1})):(C(),X(L,{key:1,type:"primary",round:"",block:"",class:"btn",onClick:h(u).connectWallet},{default:P(()=>[oe(k(m.$t("connectWallet")),1)]),_:1},8,["onClick"])),w(L,{type:"primary",round:"",block:"",plain:"",class:"btn"},{default:P(()=>[oe(k(m.$t("viewTutorial")),1)]),_:1})])]),w(We,{show:T.value,"onUpdate:show":c[9]||(c[9]=l=>T.value=l)},null,8,["show"]),w(Ye,{show:g.value,"onUpdate:show":c[10]||(c[10]=l=>g.value=l)},null,8,["show"])],64)}}},_t=ue(ht,[["__scopeId","data-v-f04075ef"]]);export{_t as default};
