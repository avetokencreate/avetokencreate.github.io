import{_ as ue,i as ye,r as q,o as D,c as X,w as P,a as d,t as k,u as h,b as ce,d as de,e as we,f as Z,g as O,h as w,F as ae,j as _e,n as ke,k as Me,s as $e,l as De,m as Ce,p as be,q as he,v as pe,x as me,T as Se,y as oe}from"./index-27793788.js";import{u as Le}from"./create-3b7f9824.js";import{f as re,c as ve,g as xe,a as Te}from"./index-ce780af6.js";import{_ as W}from"./SvgIcon-95e132d9.js";import{D as Ie}from"./DropDown-63dc82f1.js";var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le={},Oe={get exports(){return le},set exports(B){le=B}};(function(B,N){(function(u,$){B.exports=$()})(Ae,function(){var u=1e3,$=6e4,C=36e5,S="millisecond",v="second",l="minute",x="hour",g="day",z="week",T="month",E="quarter",H="year",G="date",ee="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var n=["th","st","nd","rd"],e=s%100;return"["+s+(n[(e-20)%10]||n[e]||n[0])+"]"}},A=function(s,n,e){var o=String(s);return!o||o.length>=n?s:""+Array(n+1-o.length).join(e)+s},R={s:A,z:function(s){var n=-s.utcOffset(),e=Math.abs(n),o=Math.floor(e/60),t=e%60;return(n<=0?"+":"-")+A(o,2,"0")+":"+A(t,2,"0")},m:function s(n,e){if(n.date()<e.date())return-s(e,n);var o=12*(e.year()-n.year())+(e.month()-n.month()),t=n.clone().add(o,T),i=e-t<0,a=n.clone().add(o+(i?-1:1),T);return+(-(o+(e-t)/(i?t-a:a-t))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:T,y:H,w:z,d:g,D:G,h:x,m:l,s:v,ms:S,Q:E}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},L="en",r={};r[L]=F;var V=function(s){return s instanceof ne},te=function s(n,e,o){var t;if(!n)return L;if(typeof n=="string"){var i=n.toLowerCase();r[i]&&(t=i),e&&(r[i]=e,t=i);var a=n.split("-");if(!t&&a.length>1)return s(a[0])}else{var f=n.name;r[f]=n,t=f}return!o&&t&&(L=t),t||!o&&L},M=function(s,n){if(V(s))return s.clone();var e=typeof n=="object"?n:{};return e.date=s,e.args=arguments,new ne(e)},p=R;p.l=te,p.i=V,p.w=function(s,n){return M(s,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var ne=function(){function s(e){this.$L=te(e.locale,null,!0),this.parse(e)}var n=s.prototype;return n.parse=function(e){this.$d=function(o){var t=o.date,i=o.utc;if(t===null)return new Date(NaN);if(p.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var a=t.match(m);if(a){var f=a[2]-1||0,y=(a[7]||"0").substring(0,3);return i?new Date(Date.UTC(a[1],f,a[3]||1,a[4]||0,a[5]||0,a[6]||0,y)):new Date(a[1],f,a[3]||1,a[4]||0,a[5]||0,a[6]||0,y)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return p},n.isValid=function(){return this.$d.toString()!==ee},n.isSame=function(e,o){var t=M(e);return this.startOf(o)<=t&&t<=this.endOf(o)},n.isAfter=function(e,o){return M(e)<this.startOf(o)},n.isBefore=function(e,o){return this.endOf(o)<M(e)},n.$g=function(e,o,t){return p.u(e)?this[o]:this.set(t,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,o){var t=this,i=!!p.u(o)||o,a=p.p(e),f=function(J,I){var U=p.w(t.$u?Date.UTC(t.$y,I,J):new Date(t.$y,I,J),t);return i?U:U.endOf(g)},y=function(J,I){return p.w(t.toDate()[J].apply(t.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(I)),t)},_=this.$W,b=this.$M,j=this.$D,Y="set"+(this.$u?"UTC":"");switch(a){case H:return i?f(1,0):f(31,11);case T:return i?f(1,b):f(0,b+1);case z:var Q=this.$locale().weekStart||0,K=(_<Q?_+7:_)-Q;return f(i?j-K:j+(6-K),b);case g:case G:return y(Y+"Hours",0);case x:return y(Y+"Minutes",1);case l:return y(Y+"Seconds",2);case v:return y(Y+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,o){var t,i=p.p(e),a="set"+(this.$u?"UTC":""),f=(t={},t[g]=a+"Date",t[G]=a+"Date",t[T]=a+"Month",t[H]=a+"FullYear",t[x]=a+"Hours",t[l]=a+"Minutes",t[v]=a+"Seconds",t[S]=a+"Milliseconds",t)[i],y=i===g?this.$D+(o-this.$W):o;if(i===T||i===H){var _=this.clone().set(G,1);_.$d[f](y),_.init(),this.$d=_.set(G,Math.min(this.$D,_.daysInMonth())).$d}else f&&this.$d[f](y);return this.init(),this},n.set=function(e,o){return this.clone().$set(e,o)},n.get=function(e){return this[p.p(e)]()},n.add=function(e,o){var t,i=this;e=Number(e);var a=p.p(o),f=function(b){var j=M(i);return p.w(j.date(j.date()+Math.round(b*e)),i)};if(a===T)return this.set(T,this.$M+e);if(a===H)return this.set(H,this.$y+e);if(a===g)return f(1);if(a===z)return f(7);var y=(t={},t[l]=$,t[x]=C,t[v]=u,t)[a]||1,_=this.$d.getTime()+e*y;return p.w(_,this)},n.subtract=function(e,o){return this.add(-1*e,o)},n.format=function(e){var o=this,t=this.$locale();if(!this.isValid())return t.invalidDate||ee;var i=e||"YYYY-MM-DDTHH:mm:ssZ",a=p.z(this),f=this.$H,y=this.$m,_=this.$M,b=t.weekdays,j=t.months,Y=function(I,U,ie,se){return I&&(I[U]||I(o,i))||ie[U].slice(0,se)},Q=function(I){return p.s(f%12||12,I,"0")},K=t.meridiem||function(I,U,ie){var se=I<12?"AM":"PM";return ie?se.toLowerCase():se},J={YY:String(this.$y).slice(-2),YYYY:this.$y,M:_+1,MM:p.s(_+1,2,"0"),MMM:Y(t.monthsShort,_,j,3),MMMM:Y(j,_),D:this.$D,DD:p.s(this.$D,2,"0"),d:String(this.$W),dd:Y(t.weekdaysMin,this.$W,b,2),ddd:Y(t.weekdaysShort,this.$W,b,3),dddd:b[this.$W],H:String(f),HH:p.s(f,2,"0"),h:Q(1),hh:Q(2),a:K(f,y,!0),A:K(f,y,!1),m:String(y),mm:p.s(y,2,"0"),s:String(this.$s),ss:p.s(this.$s,2,"0"),SSS:p.s(this.$ms,3,"0"),Z:a};return i.replace(c,function(I,U){return U||J[I]||a.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,o,t){var i,a=p.p(o),f=M(e),y=(f.utcOffset()-this.utcOffset())*$,_=this-f,b=p.m(this,f);return b=(i={},i[H]=b/12,i[T]=b,i[E]=b/3,i[z]=(_-y)/6048e5,i[g]=(_-y)/864e5,i[x]=_/C,i[l]=_/$,i[v]=_/u,i)[a]||_,t?b:p.a(b)},n.daysInMonth=function(){return this.endOf(T).$D},n.$locale=function(){return r[this.$L]},n.locale=function(e,o){if(!e)return this.$L;var t=this.clone(),i=te(e,o,!0);return i&&(t.$L=i),t},n.clone=function(){return p.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},s}(),fe=ne.prototype;return M.prototype=fe,[["$ms",S],["$s",v],["$m",l],["$H",x],["$W",g],["$M",T],["$y",H],["$D",G]].forEach(function(s){fe[s[1]]=function(n){return this.$g(n,s[0],s[1])}}),M.extend=function(s,n){return s.$i||(s(n,ne,M),s.$i=!0),M},M.locale=te,M.isDayjs=V,M.unix=function(s){return M(1e3*s)},M.en=r[L],M.Ls=r,M.p={},M})})(Oe);const Be=le;const Ne={class:"content"},He={__name:"HelpDialog",props:{show:Boolean},emits:["update:show"],setup(B,{emit:N}){const u=ye("global");return($,C)=>{const S=q("van-dialog");return D(),X(S,{class:"help-dialog",show:B.show,title:$.$t("rulesDescription"),"confirm-button-text":$.$t("understand"),onConfirm:C[0]||(C[0]=v=>N("update:show",!1)),onClose:C[1]||(C[1]=v=>N("update:show",!1)),"close-on-click-overlay":""},{default:P(()=>[d("div",Ne,[d("div",null,k($.$t("rulesDescription1",{chains:h(u).cfg.allowChainList.map(v=>v.chain.toUpperCase()).join("/")})),1),d("div",null,k($.$t("rulesDescription2")),1),d("div",null,k($.$t("rulesDescription3")),1),d("div",null,k($.$t("rulesDescription4")),1),d("div",null,k($.$t("rulesDescription5")),1)])]),_:1},8,["show","title","confirm-button-text"])}}},We=ue(He,[["__scopeId","data-v-5e1bd8cc"]]),Ye={__name:"SelectLanDialog",props:{show:Boolean},emits:["update:show"],setup(B,{emit:N}){const u=ce(),{t:$}=de(),C=we(()=>[{name:$("languages.zh-cn"),value:"zh-cn",color:u.language==="zh-cn"?"#3F80F7":"#323233"},{name:$("languages.en"),value:"en",color:u.language==="en"?"#3F80F7":"#323233"}]);function S(v){u.setLanguage(v.value),N("update:show",!1)}return(v,l)=>{const x=q("van-action-sheet");return D(),X(x,{show:B.show,title:v.$t("switchLang"),actions:h(C),onClose:l[0]||(l[0]=g=>N("update:show",!1)),closeable:!1,"cancel-text":v.$t("cancel"),"close-on-click-action":"",onSelect:S},null,8,["show","title","actions","cancel-text"])}}};const Ge={class:"left"},Fe={key:0,class:"address"},je={class:"address-text"},Ue={key:1,class:"address"},ze={style:{"margin-left":"4px"}},Re={class:"dapp-list"},Ve=["onClick"],Pe={class:"name"},qe={key:0,class:"tips"},Ee={__name:"Menu",props:{dappList:{type:Array,default:[]}},setup(B){const N=B,{t:u}=de(),$=ce(),C=Z(!1);function S(v){if(!v){$e(u("menuComingSoon"));return}window.open(v)}return(v,l)=>{const x=q("van-popup");return D(),O(ae,null,[d("div",{onClick:l[0]||(l[0]=g=>C.value=!0)},[w(W,{class:"icon",name:"menu"})]),w(x,{show:C.value,"onUpdate:show":l[1]||(l[1]=g=>C.value=g),position:"left",style:{width:"48%",height:"100%"},class:"menu"},{default:P(()=>[d("div",Ge,[w(W,{class:"icon",name:"menu"}),h($).isConnectWallet?(D(),O("div",Fe,[w(W,{class:"chain-icon",name:"wallet"}),d("div",je,k(h(re)(h($).walletAddress)),1)])):(D(),O("div",Ue,[w(W,{name:"wallet"}),d("div",ze,k(h(u)("menuNoConnet")),1)]))]),d("ul",Re,[(D(!0),O(ae,null,_e(N.dappList,g=>(D(),O("li",{class:ke(["dapp-list-item",g.selected?"dapp-list-item-selected":""]),onClick:z=>S(g.url)},[w(W,{class:"svg-icon",name:g.iconGrey},null,8,["name"]),d("div",Pe,k(h(u)(g.name)),1),g.url?Me("",!0):(D(),O("div",qe,k(h(u)("menuComingSoon")),1))],10,Ve))),256))])]),_:1},8,["show"])],64)}}},Je=ue(Ee,[["__scopeId","data-v-82f0cc0a"]]),ge=[{name:"menuCreateToken",iconBlue:"createTokenBlue",iconGrey:"createTokenGrey",url:"https://m.avetokenmaker.xyz/"},{name:"menuPresell",iconBlue:"presaleBlue",iconGrey:"presaleGrey",url:""},{name:"menuLiquidity",iconBlue:"liquidityBlue",iconGrey:"liquidityGrey",url:"https://m.jfliquidity.xyz/add?utm_source=ave.ai"},{name:"menuLock",iconBlue:"lockBlue",iconGrey:"lockGrey",url:"https://m.avelock.xyz/"},{name:"menuMultitransfer",iconBlue:"multitransferBlue",iconGrey:"multitransferGrey",url:"https://m.avemultitransfer.online/"},{name:"menuRedPacket",iconBlue:"redPacketBlue",iconGrey:"redPacketGrey",url:"https://www.averedpocket.xyz/"},{name:"menuApprove",iconBlue:"approveBlue",iconGrey:"approveGrey",url:"https://aveapprovecheck.cloud/"}];const Ze={class:"token-create"},Qe={class:"tools-bar"},Ke={class:"left"},Xe={key:0,class:"address"},et={class:"address-text"},tt={style:{"margin-left":"6px"}},nt={class:"tools"},st={class:"token-box"},ot={class:"token"},at={class:"title"},it=["onClick"],rt={class:"content"},lt={class:"name"},ut={class:"create-time"},ct={key:1,class:"no-data"},dt={class:"text"},ft={class:"bottom-operate"},ht={__name:"Index",setup(B){const{t:N}=de(),u=ce(),$=Le(),C=De(),S=Z(0),v=Z(10),l=Ce({pageNumber:0,tokenList:[],loading:!1,finished:!1,error:!1,refreshing:!1}),x=Z(!1),g=Z(!1);function z(){$.$reset(),C.push("/create/basicInfo")}async function T(){let m=u.tokenFactoryAddress,c=u.walletAddress,F=pe({duration:0});c||$e(N("pleaseConnectWallet"));try{let A=await me.tokenFactory.getTotalRecords(m,c);S.value=Number(A),console.log(Number(A))}catch(A){console.log(A)}finally{l.refreshing=!1,F.close()}}async function E(){l.loading=!0;let m=pe({duration:0}),c=u.tokenFactoryAddress.toLowerCase(),F=u.walletAddress.toLowerCase(),A=(l.pageNumber*v.value).toString(),R=(l.pageNumber*v.value+v.value-1).toString();console.log(A),console.log(R);try{let L=await me.tokenFactory.getOwnRecords(c,F,A,R);console.log(L);for(let r of L){let V={tokenAddress:r[6].toLowerCase(),createTime:Number(r[0]),symbol:r[4],name:r[3],deployerId:Number(r[5])};l.tokenList.push(V)}L.length<v.value||S.value==Number(R)+1?l.finished=!0:l.pageNumber++}catch(L){l.error=!0,console.log(L)}finally{m.close(),l.loading=!1,l.refreshing=!1}}async function H(){l.pageNumber=0,l.tokenList=[],l.finished=!1,await T(),S.value>0&&(console.log(S.value),E())}function G(m,c){C.push("/manage/"+m+"/"+c)}ge.forEach(m=>m.selected=m.name=="menuCreateToken");const ee=Z(ge);return be(()=>{let m=setInterval(async()=>{u.isConnectWallet&&(clearInterval(m),await T(),S.value>0&&E())},100)}),(m,c)=>{const F=q("van-image"),A=q("van-list"),R=q("van-pull-refresh"),L=q("van-button");return D(),O(ae,null,[d("div",Ze,[d("div",Qe,[d("div",Ke,[w(Je,{"dapp-list":ee.value},null,8,["dapp-list"]),h(u).isConnectWallet?(D(),O("div",Xe,[w(Ie,{class:"switch-chain",onClick:c[0]||(c[0]=r=>h(u).showSelectChainPopup=!0),error:h(u).chainId==-1,logo:h(u).chainIcon,value:h(u).chain.toUpperCase()},null,8,["error","logo","value"]),d("div",et,k(h(re)(h(u).walletAddress)),1),w(W,{class:"copy-icon",name:"copy",onClick:c[1]||(c[1]=he(r=>h(ve)(h(u).walletAddress),["stop"]))})])):(D(),O("div",{key:1,class:"address",onClick:c[2]||(c[2]=(...r)=>h(u).connectWallet&&h(u).connectWallet(...r))},[w(W,{class:"icon",name:"wallet"}),d("div",tt,k(m.$t("pleaseConnectWallet")),1)]))]),d("div",nt,[w(W,{class:"icon",name:"language",onClick:c[3]||(c[3]=r=>g.value=!0)}),w(W,{class:"icon",name:"help",onClick:c[4]||(c[4]=r=>x.value=!0)})])]),d("div",st,[d("div",ot,[d("div",at,k(m.$t("myToken")),1),w(R,{modelValue:l.refreshing,"onUpdate:modelValue":c[8]||(c[8]=r=>l.refreshing=r),"pulling-text":m.$t("pulling"),"loosing-text":m.$t("loosing"),"loading-text":m.$t("loading"),onRefresh:H},{default:P(()=>[l.tokenList.length>0?(D(),X(A,{key:0,class:"token-list","loading-text":m.$t("loading"),loading:l.loading,"onUpdate:loading":c[5]||(c[5]=r=>l.loading=r),finished:l.finished,"finished-text":m.$t("noMore"),error:l.error,"onUpdate:error":c[6]||(c[6]=r=>l.error=r),"error-text":m.$t("errorText"),onLoad:c[7]||(c[7]=r=>E())},{default:P(()=>[(D(!0),O(ae,null,_e(l.tokenList,r=>(D(),O("div",{class:"item",onClick:V=>G(r.deployerId,r.tokenAddress)},[d("div",null,[w(Se,{class:"token-icon",tokenIcon:h(xe)(h(u).chain.toLowerCase(),r.tokenAddress.toLowerCase()),chainIcon:h(Te)(h(u).chain.toLowerCase())},null,8,["tokenIcon","chainIcon"]),d("div",rt,[d("div",lt,[d("span",null,k(r.symbol),1),d("span",null,"（"+k(r.name)+"）",1)]),d("div",null,[oe(k(h(re)(r.tokenAddress))+" ",1),w(W,{class:"copy-icon",name:"copy",onClick:he(V=>h(ve)(r.tokenAddress),["stop"])},null,8,["onClick"])]),d("div",ut,k(h(Be).unix(r.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])]),d("div",null,[w(F,{class:"image",src:"/assets/images/manage.png"})])],8,it))),256))]),_:1},8,["loading-text","loading","finished","finished-text","error","error-text"])):(D(),O("div",ct,[w(F,{class:"image",src:"/assets/images/warn.png"}),d("div",dt,k(m.$t("noToken")),1)]))]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])])]),d("div",ft,[h(u).isConnectWallet?(D(),X(L,{key:0,type:"primary",round:"",block:"",class:"btn",onClick:z},{default:P(()=>[oe(k(m.$t("createToken")),1)]),_:1})):(D(),X(L,{key:1,type:"primary",round:"",block:"",class:"btn",onClick:h(u).connectWallet},{default:P(()=>[oe(k(m.$t("connectWallet")),1)]),_:1},8,["onClick"])),w(L,{type:"primary",round:"",block:"",plain:"",class:"btn"},{default:P(()=>[oe(k(m.$t("viewTutorial")),1)]),_:1})])]),w(We,{show:x.value,"onUpdate:show":c[9]||(c[9]=r=>x.value=r)},null,8,["show"]),w(Ye,{show:g.value,"onUpdate:show":c[10]||(c[10]=r=>g.value=r)},null,8,["show"])],64)}}},$t=ue(ht,[["__scopeId","data-v-f444b0eb"]]);export{$t as default};
