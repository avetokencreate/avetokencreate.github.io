import{D as L}from"./DropDown-68a7e2f5.js";import{T as j,C as z}from"./TokenList-7dc7b53b.js";import{_ as H,d as J,l as K,b as O,f as _,e as F,r as w,o as f,g as B,a as p,h as s,w as n,u as l,F as C,k as b,t as c,c as k,s as m,V as $,y as N}from"./index-c99d1f2a.js";import{u as Q}from"./create-887d8582.js";import{R as y}from"./Rate-44144b13.js";import{B as r}from"./bignumber-3e8dfdf6.js";import{f as W}from"./index-3fb295a1.js";const X={class:"setting"},Y={style:{color:"#999"}},Z={class:"rate-setting"},ee={class:"title"},le={class:"rate-setting"},te={class:"title"},se={class:"address-setting"},ae={class:"title"},ue={class:"btn-control-group"},ne={__name:"TaxSetting",props:{createTokenLoading:Boolean},emits:["createTokenClick","nextStepClick"],setup(re,{emit:oe}){const{t:d}=J(),S=K(),P=O(),e=Q(),x=_(!1),I=_(!1),o=20,R=F(()=>e.deployerId==1?r(o).minus(e.buyBurnFee).minus(e.buyLPFee).toNumber():e.deployerId==2||e.deployerId==3?r(o).minus(e.buyRewardFee).minus(e.buyLPFee).toNumber():0),h=F(()=>e.deployerId==1?r(o).minus(e.buyFundFee).minus(e.buyBurnFee).toNumber():e.deployerId==2||e.deployerId==3?r(o).minus(e.buyFundFee).minus(e.buyRewardFee).toNumber():0),A=F(()=>{if(e.deployerId==1)return r(o).minus(e.buyFundFee).minus(e.buyLPFee).toNumber()}),U=F(()=>e.deployerId==2||e.deployerId==3?r(o).minus(e.buyFundFee).minus(e.buyLPFee).toNumber():0),V=F(()=>e.deployerId==1?r(o).minus(e.sellBurnFee).minus(e.sellLPFee).toNumber():e.deployerId==2||e.deployerId==3?r(o).minus(e.sellRewardFee).minus(e.sellLPFee).toNumber():0),E=F(()=>e.deployerId==1?r(o).minus(e.sellFundFee).minus(e.sellBurnFee).toNumber():e.deployerId==2||e.deployerId==3?r(o).minus(e.sellFundFee).minus(e.sellRewardFee).toNumber():0),D=F(()=>e.deployerId==1?r(o).minus(e.sellFundFee).minus(e.sellLPFee).toNumber():0),M=F(()=>e.deployerId==2||e.deployerId==3?r(o).minus(e.sellFundFee).minus(e.sellLPFee).toNumber():0);function q(){e.step=2,S.push("/create/detail")}function G(){const u=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;if(e.deployerId===1||e.deployerId==2||e.deployerId==3){if(!e.token){m(d("pleaseSelectCurrency"));return}if(!e.chainSwap){m(d("pleaseSelectSwap"));return}if(e.deployerId===1){if(r(e.buyFundFee).plus(e.buyBurnFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellBurnFee).plus(e.sellLPFee).lte(0)){m(d("taxMustGt0"));return}}else if(e.deployerId===2){if(r(e.buyFundFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellLPFee).lte(0)){m(d("taxlimit2"));return}}else if(e.deployerId===3){if(!e.rewardToken){m(d("dividendTokenError"));return}if(!u.test(e.rewardToken)){m(d("pleaseEnterTrueAddress"));return}if(r(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee).plus(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee).lte(0)){m(d("taxMustGt0"));return}}if((Number(e.buyFundFee)>0||Number(e.sellFundFee)>0)&&!e.fundAddress){m(d("pleaseEnterMarketingAddress"));return}if(e.fundAddress&&!u.test(e.fundAddress)){m(d("pleaseEnterTrueAddress"));return}}e.step=3,S.push("/create/IssueControl")}return(u,t)=>{const i=w("van-cell"),v=w("van-cell-group"),T=w("van-field"),g=w("van-button");return f(),B(C,null,[p("div",X,[s(v,{inset:""},{default:n(()=>[s(i,{title:u.$t("selectCurrency"),class:"switch-cell",onClick:t[0]||(t[0]=a=>I.value=!0)},$({_:2},[l(e).token?{name:"value",fn:n(()=>[s(L,{logo:l(e).token.icon,value:l(e).token.symbol},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:n(()=>[p("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),s(v,{inset:""},{default:n(()=>[s(i,{title:u.$t("selectSwap"),class:"switch-cell",onClick:t[1]||(t[1]=a=>x.value=!0)},$({_:2},[l(e).chainSwap?{name:"value",fn:n(()=>[s(L,{logo:l(e).chainSwap.swapIcon,value:l(e).chainSwap.showName},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:n(()=>[p("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),l(e).deployerId===3?(f(),B(C,{key:0},[s(v,{inset:"",class:"rate-cell"},{default:n(()=>[s(T,{modelValue:l(e).rewardToken,"onUpdate:modelValue":t[2]||(t[2]=a=>l(e).rewardToken=a),"label-width":"8em",label:u.$t("rewardToken"),placeholder:u.$t("enterContract"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1}),s(v,{inset:"",class:"rate-cell"},{default:n(()=>[p("div",Y,c(u.$t("rewardTokenInfo")),1)]),_:1})],64)):b("",!0),p("div",Z,[p("div",ee,c(l(d)("buyTax",{max:o})),1),s(i,{class:"rate-cell",title:u.$t("marketingTax")},{extra:n(()=>[s(y,{value:l(e).buyFundFee,"onUpdate:value":t[3]||(t[3]=a=>l(e).buyFundFee=a),"max-value":l(R)},null,8,["value","max-value"])]),_:1},8,["title"]),s(i,{class:"rate-cell",title:u.$t("liquidityTax")},{extra:n(()=>[s(y,{value:l(e).buyLPFee,"onUpdate:value":t[4]||(t[4]=a=>l(e).buyLPFee=a),"max-value":l(h)},null,8,["value","max-value"])]),_:1},8,["title"]),l(e).deployerId==1?(f(),k(i,{key:0,class:"rate-cell",title:u.$t("burnTax")},{extra:n(()=>[s(y,{value:l(e).buyBurnFee,"onUpdate:value":t[5]||(t[5]=a=>l(e).buyBurnFee=a),"max-value":l(A)},null,8,["value","max-value"])]),_:1},8,["title"])):b("",!0),l(e).deployerId==2||l(e).deployerId==3?(f(),k(i,{key:1,class:"rate-cell",title:u.$t("rewardTax")},{extra:n(()=>[s(y,{value:l(e).buyRewardFee,"onUpdate:value":t[6]||(t[6]=a=>l(e).buyRewardFee=a),"max-value":l(U)},null,8,["value","max-value"])]),_:1},8,["title"])):b("",!0)]),p("div",le,[p("div",te,c(l(d)("sellTax",{max:o})),1),s(i,{class:"rate-cell",title:u.$t("marketingTax")},{extra:n(()=>[s(y,{value:l(e).sellFundFee,"onUpdate:value":t[7]||(t[7]=a=>l(e).sellFundFee=a),"max-value":l(V)},null,8,["value","max-value"])]),_:1},8,["title"]),s(i,{class:"rate-cell",title:u.$t("liquidityTax")},{extra:n(()=>[s(y,{value:l(e).sellLPFee,"onUpdate:value":t[8]||(t[8]=a=>l(e).sellLPFee=a),"max-value":l(E)},null,8,["value","max-value"])]),_:1},8,["title"]),l(e).deployerId==1?(f(),k(i,{key:0,class:"rate-cell",title:u.$t("burnTax")},{extra:n(()=>[s(y,{value:l(e).sellBurnFee,"onUpdate:value":t[9]||(t[9]=a=>l(e).sellBurnFee=a),"max-value":l(D)},null,8,["value","max-value"])]),_:1},8,["title"])):b("",!0),l(e).deployerId==2||l(e).deployerId==3?(f(),k(i,{key:1,class:"rate-cell",title:u.$t("rewardTax")},{extra:n(()=>[s(y,{value:l(e).sellRewardFee,"onUpdate:value":t[10]||(t[10]=a=>l(e).sellRewardFee=a),"max-value":l(M)},null,8,["value","max-value"])]),_:1},8,["title"])):b("",!0)]),p("div",se,[p("div",ae,c(u.$t("addressSetting")),1),s(v,{inset:"",class:"rate-cell"},{default:n(()=>[s(i,{title:u.$t("ownerAddr"),class:"switch-cell",value:l(W)(l(P).walletAddress)},null,8,["title","value"])]),_:1}),s(v,{inset:"",class:"rate-cell"},{default:n(()=>[s(T,{modelValue:l(e).fundAddress,"onUpdate:modelValue":t[11]||(t[11]=a=>l(e).fundAddress=a),"label-width":"10em",label:u.$t("marketingAddress"),placeholder:u.$t("enterAddress"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1})]),p("div",ue,[s(g,{type:"primary",plain:"",round:"",block:"",class:"btn-control",onClick:q},{default:n(()=>[N(c(u.$t("previousStep")),1)]),_:1}),s(g,{type:"primary",round:"",block:"",class:"btn-control",onClick:G},{default:n(()=>[N(c(u.$t("nextStep")),1)]),_:1})])]),s(j,{showTokenList:I.value,"onUpdate:showTokenList":t[12]||(t[12]=a=>I.value=a)},null,8,["showTokenList"]),s(z,{showChainSwap:x.value,"onUpdate:showChainSwap":t[13]||(t[13]=a=>x.value=a)},null,8,["showChainSwap"])],64)}}},fe=H(ne,[["__scopeId","data-v-d2f66045"]]);export{fe as default};
